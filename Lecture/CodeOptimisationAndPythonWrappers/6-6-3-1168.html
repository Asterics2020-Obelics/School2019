<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8" />
		<title>Manual vectorization (by Intrinsic functions)</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<table class="navigationMenu">
			<tr>
			<td style="text-align: left;">Previous<br /><a href="6-6-2-5-1154.html">The performances with vectorization by the compiler</a></td>
			<td style="text-align: center;">Parent<br /><a href="6-6-983.html">How to vectorize the computation</a></td>
			<td><a href="outline.html">Outline</a></td>
			<td style="text-align: right;">Next<br /><a href="6-6-3-1-1212.html">Begining of the main_intrinsics.cpp file</a></td>
			</tr>
		</table>
		<div class="pageContent">
		<h3 id="1168" class="section">6.6.3 : Manual vectorization (by Intrinsic functions)</h3>
		<ul class="sommaire">
			<li><a href="6-6-3-1-1212.html">6.6.3.1) Begining of the main_intrinsics.cpp file</a></li>
			<li><a href="6-6-3-2-1221.html">6.6.3.2) The hadamard_product function</a></li>
			<li><a href="6-6-3-3-1234.html">6.6.3.3) The function to evaluate performances</a></li>
			<li><a href="6-6-3-4-1238.html">6.6.3.4) The main function</a></li>
			<li><a href="6-6-3-5-1244.html">6.6.3.5) Full main_intrinsics.cpp file</a></li>
			<li><a href="6-6-3-6-1252.html">6.6.3.6) The CMakeLists.txt file</a></li>
			<li><a href="6-6-3-7-1256.html">6.6.3.7) Compilation</a></li>
			<li><a href="6-6-3-8-1260.html">6.6.3.8) The performances with Intrinsics</a></li>
		</ul>

		
The idea is to force the compiler to do what you want and how you want it.

<p id="1170" class="paragraphStyle">
	The Intel intrinsics documentation : <a id="1172" href="https://software.intel.com/en-us/node/523351">https://software.intel.com/en-us/node/523351</a>
</p>

		<ul>

			<li> Some changes (for AVX2) :
			<ul>

				<li> Include : <b>immintrin.h</b>
		</li>
		<li> <b>float</b> : <b>__m256</b> (= 8 <b>float</b>)}
		</li>
		<li> Data loading : <b>_mm256_load_ps</b>
		</li>
		<li> Data Storage : <b>_mm256_store_ps</b>
		</li>
		<li> Multiply : <b>_mm256_mul_ps</b>
	</li>
		</ul>

</li>
		</ul>


<pre id="1207" class="warningStyle">
Only on aligned data of course.
</pre>


Let's create a <b>main_intrinsics.cpp</b> file.

					</div>
		<table class="navigationMenuBottom">
			<tr>
			<td style="text-align: left;">Previous<br /><a href="6-6-2-5-1154.html">The performances with vectorization by the compiler</a></td>
			<td style="text-align: center;">Parent<br /><a href="6-6-983.html">How to vectorize the computation</a></td>
			<td><a href="outline.html">Outline</a></td>
			<td style="text-align: right;">Next<br /><a href="6-6-3-1-1212.html">Begining of the main_intrinsics.cpp file</a></td>
			</tr>
		</table>
	</body>
</html>

